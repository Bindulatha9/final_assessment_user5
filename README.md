This terraform code helps us to create an ec2 instance which is connected to VPC and security group created through terraform only.
Here we use modules for the creation of VPC and Security groups
